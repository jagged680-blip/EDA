<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>EDA Norton Editor v1.3 - Local Mode</title>
    
    <!-- Подключение внешнего стиля -->
    <link rel="stylesheet" href="style.css">
    
    <!-- ЗАГРУЗКА БИБЛИОТЕКИ ЛОКАЛЬНО -->
    <!-- Убедитесь, что файл konva.min.js лежит в той же папке! -->
    <script src="konva.min.js"></script>
</head>
<body>

<!-- Оверлей на случай если файл konva.min.js не найден -->
<div id="error-overlay">
    <h2>ОШИБКА МОДУЛЯ KONVA</h2>
    <p>Файл <b>konva.min.js</b> не найден в папке с программой!</p>
    <p>Положите библиотеку в папку проекта и обновите страницу (Ctrl+F5).</p>
</div>

<!-- Верхняя панель управления -->
<div class="toolbar">
    <div class="info">
        <b>EDA NORTON</b> | ПКМ: вставка | <b>R</b>: поворот | <b>DEL</b>: удалить
    </div>
    
    <div class="actions" style="display: flex; gap: 10px;">
        <button onclick="saveProject()" style="background:#27ae60; color:white; border:none; padding:4px 12px; cursor:pointer; font-weight:bold; border-radius:2px;">
            СОХРАНИТЬ JSON
        </button>
        
        <button onclick="document.getElementById('fileInput').click()" style="background:#2980b9; color:white; border:none; padding:4px 12px; cursor:pointer; font-weight:bold; border-radius:2px;">
            ОТКРЫТЬ JSON
        </button>
        
        <input type="file" id="fileInput" style="display:none" onchange="loadProject(event)" accept=".json">
    </div>

    <div id="libStatus" class="status-badge">ПРОВЕРКА МОДУЛЕЙ...</div>
</div>

<!-- Панели SCH и PCB -->
<div class="container">
    <div id="schematic" class="panel" oncontextmenu="return false;">
        <div class="label">[ SCHEMATIC EDITOR ]</div>
    </div>
    <div id="pcb" class="panel" oncontextmenu="return false;">
        <div class="label">[ PCB LAYOUT ]</div>
    </div>
</div>

<!-- Контекстное меню -->
<div id="menu">
    <div class="header">INSERT COMPONENT:</div>
    <button onclick="addComp('R', '#3498db', 40, 16, 'Resistor')">Резистор (R)</button>
    <button onclick="addComp('C', '#e74c3c', 20, 30, 'Capacitor')">Конденсатор (C)</button>
    <button onclick="addComp('L', '#f1c40f', 40, 20, 'Inductor')">Катушка (L)</button>
    <button onclick="addComp('VT', '#9b59b6', 30, 30, 'Transistor')">Транзистор (VT)</button>
</div>

<!-- Подключение логики -->
<script src="script.js"></script>   

</body>
</html>

